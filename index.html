<h1>Infinity Mirror Controller</h1>
<button onclick="sendCommand('MODE:0')">ðŸŒˆ ãƒ¬ã‚¤ãƒ³ãƒœãƒ¼</button>
<button onclick="sendCommand('MODE:1')">âœ¨ ã‚¹ãƒ‘ãƒ¼ã‚¯ãƒ«</button>
<button onclick="sendCommand('MODE:2')">ðŸ•³ ãƒ–ãƒ©ãƒƒã‚¯ãƒ›ãƒ¼ãƒ«</button>

<script>
let characteristic;
async function connect() {
  const device = await navigator.bluetooth.requestDevice({
    filters: [{ namePrefix: "InfinityMirror" }],
    optionalServices: ["12345678-1234-1234-1234-1234567890ab"]
  });
  const server = await device.gatt.connect();
  const service = await server.getPrimaryService("12345678-1234-1234-1234-1234567890ab");
  characteristic = await service.getCharacteristic("abcd1234-5678-90ab-cdef-1234567890ab");
}
async function sendCommand(cmd) {
  if (!characteristic) await connect();
  await characteristic.writeValue(new TextEncoder().encode(cmd));
}
</script>